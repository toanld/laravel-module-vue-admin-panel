import{s as d,v as $,o as l,b as f,w as s,e as o,u as r,X as w,n as v,f as b,q as g,g as n,H as i,F as u,U as P}from"./md5.aa6931b5.js";import{_ as U,a as h,b as B}from"./FormValidationErrors.d9e75e98.js";import{a as R,_ as S}from"./CardBox.165fa27d.js";import{_ as k}from"./FormControl.d3465687.js";import{_}from"./FormField.a3a1d628.js";import{a as T}from"./colors.ab6f195c.js";import{_ as F}from"./BaseLevel.384a7273.js";import"./style.cab1fa8d.js";import"./mdi.1fe06ea7.js";import"./index.92938b48.js";const N={class:"mb-4 text-sm text-gray-600"},I=["onClick"],J={__name:"TwoFactorChallenge",setup(q){const c=d(!1),t=$({code:"",recovery_code:""}),p=d(null),y=d(null),x=async()=>{var m,e;c.value^=!0,await P(),c.value?((m=p.value)==null||m.focus(),t.code=""):((e=y.value)==null||e.focus(),t.recovery_code="")},C=()=>{t.post(route("two-factor.login"))};return(m,e)=>(l(),f(U,null,{default:s(()=>[o(r(w),{title:"Two-factor Confirmation"}),o(B,{bg:"purplePink"},{default:s(({cardClass:V})=>[o(R,{class:v(V),form:"",onSubmit:b(C,["prevent"])},{default:s(()=>[o(h),o(_,null,{default:s(()=>[g("div",N,[c.value?(l(),n(u,{key:1},[i(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(l(),n(u,{key:0},[i(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),_:1}),c.value?(l(),f(_,{key:1,label:"Recovery Code","label-for":"recovery_code",help:"Please enter recovery code"},{default:s(()=>[o(k,{id:"recovery_code",onSetRef:e[2]||(e[2]=a=>p.value=a),modelValue:r(t).recovery_code,"onUpdate:modelValue":e[3]||(e[3]=a=>r(t).recovery_code=a),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])]),_:1})):(l(),f(_,{key:0,label:"Code","label-for":"code",help:"Please enter one-time code"},{default:s(()=>[o(k,{id:"code",onSetRef:e[0]||(e[0]=a=>y.value=a),modelValue:r(t).code,"onUpdate:modelValue":e[1]||(e[1]=a=>r(t).code=a),type:"text",inputmode:"numeric",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])]),_:1})),o(T),o(F,null,{default:s(()=>[o(S,{type:"submit",color:"info",label:"Log in",class:v({"opacity-25":r(t).processing}),disabled:r(t).processing},null,8,["class","disabled"]),g("button",{onClick:b(x,["prevent"])},[c.value?(l(),n(u,{key:1},[i(" Use an authentication code ")],64)):(l(),n(u,{key:0},[i(" Use a recovery code ")],64))],8,I)]),_:1})]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{J as default};
